(this.webpackJsonptrivia=this.webpackJsonptrivia||[]).push([[0],{36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n(0),a=n.n(s),r=n(18),o=n.n(r),i=n(11),l=n(2),u=n(7),j=n(20),b=function(e){var t=e.question,a=e.correct,r=e.incorrect,o=e.updateScore,i=e.count,l=new(0,n(26).AllHtmlEntities),b=Object(s.useState)(!1),d=Object(u.a)(b,2),h=d[0],m=d[1],O=[a].concat(Object(j.a)(r)).sort().reverse();Object(s.useEffect)((function(){m(!1),O.length>2&&O.sort((function(){return.5-Math.random()}))}),[]);var f=function(e){m(!0),i(),e.target.style.border="1px solid yellow",e.target.value===a&&o()};return Object(c.jsxs)("div",{className:"trivia__questions-item",children:[Object(c.jsx)("h3",{className:"text-light",children:l.decode(t)}),O.map((function(e,t){return Object(c.jsx)("button",{type:"button",disabled:h,className:h?e===a?"btn btn-success":"btn btn-danger":"btn btn-light",value:e,onClick:f,children:l.decode(e)},t)}))]})},d=function(){var e=Object(s.useState)(null),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(s.useState)(0),o=Object(u.a)(r,2),i=o[0],j=o[1],d=Object(s.useState)(null),h=Object(u.a)(d,2),m=h[0],O=h[1],f=Object(s.useState)(0),p=Object(u.a)(f,2),v=p[0],x=p[1],g=Object(s.useState)(null),N=Object(u.a)(g,2),S=N[0],_=N[1],y=Object(s.useState)(!0),k=Object(u.a)(y,2),w=k[0],I=k[1],q=Object(s.useState)(!1),E=Object(u.a)(q,2),C=E[0],J=E[1],T=Object(l.f)();Object(s.useEffect)((function(){n&&3===n.response_code&&localStorage.removeItem("sessionInfo"),null!==localStorage.getItem("sessionInfo")?_(JSON.parse(localStorage.getItem("sessionInfo")).token):fetch("https://opentdb.com/api_token.php?command=request").then((function(e){return e.json().then((function(e){_(e.token),localStorage.setItem("sessionInfo",JSON.stringify({token:e.token}))}))}))}),[n]),Object(s.useEffect)((function(){var e=!0;return O(10),fetch("https://opentdb.com/api.php?amount=10&category=15&token=".concat(S)).then((function(t){return t.json().then((function(t){e&&(I(!1),a(t))}))})),function(){e=!1}}),[S]);var A=function(){j((function(e){return e+1}))},G=function(){x((function(e){return e+1}))};return Object(c.jsxs)("div",{className:"trivia",children:[Object(c.jsxs)("div",{className:"trivia__header navbar sticky-top",children:[Object(c.jsx)("h1",{className:"trivia__header-title",children:"Game Trivia!"}),Object(c.jsxs)("h2",{className:"trivia__header-score",children:["Current score: ",i,"/",m]})]}),w?Object(c.jsx)("div",{className:"d-flex justify-content-center",children:Object(c.jsx)("div",{className:"spinner-border text-warning m-5",role:"status",children:Object(c.jsx)("span",{className:"sr-only",children:"Loading..."})})}):Object(c.jsx)("div",{className:"trivia__questions container",children:Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),J(!1),v===m?T.push({pathname:"/results",state:{finalScore:i,maxScore:m}}):(J(!0),setTimeout((function(){J(!1)}),3e3))},children:[n&&n.results.map((function(e,t){return Object(c.jsx)(b,{question:e.question,correct:e.correct_answer,incorrect:e.incorrect_answers,updateScore:A,count:G},t)})),Object(c.jsxs)("div",{className:"trivia__controls",children:[C&&v<10&&Object(c.jsx)("div",{className:"alert alert-danger trivia__controls-error",role:"alert",children:"Please answer all of the questions!"}),Object(c.jsx)("button",{type:"submit",className:"btn btn-dark",children:"Finish"})]})]})})]})},h=function(e){var t=e.score/100*e.maxScore;return Object(c.jsx)("div",{className:"results__content-message",children:Object(c.jsx)("p",{className:"display-4",children:t<=.4?"It appears you need to play more video games!":t<=.7?"Not bad! That's a very decent score!":t<=.9?"Great score! You've played a lot of games in your life!":1===t?"Wow, a perfect score! Congratulations, but you should probably go out more!":void 0})})},m=function(e){var t=Object(l.f)(),n=e.location.state.finalScore,s=e.location.state.maxScore;return Object(c.jsx)("div",{className:"results",children:Object(c.jsxs)("div",{className:"container results__content",children:[Object(c.jsxs)("h1",{className:"display-2",children:["You got ",Object(c.jsx)("span",{className:"text-warning",children:n})," ",1!==n?"points":"point"]}),Object(c.jsx)(h,{score:n,maxScore:s}),Object(c.jsx)("button",{className:"btn btn-lg btn-dark",onClick:function(){t.push("/")},children:"Play again"})]})})};var O=function(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsx)(i.a,{children:Object(c.jsxs)(l.c,{children:[Object(c.jsx)(l.a,{exact:!0,path:"/",component:d}),Object(c.jsx)(l.a,{path:"/results",component:m})]})})})};n(35),n(36);o.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(O,{})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.db37f596.chunk.js.map